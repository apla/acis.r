<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Things to do in Stage 3 / ACIS documentation</title>
<link rel="stylesheet" href="style.css">
</head>
<body>
      

   <h1 id="id2608185">Things to do in Stage 3</h1>

<p>Not including documentation work.</p>


   <h2 id="id2608194">Level 1 - AMF generation</h2>

<p>AMF-perl:</p>

<ul>
<li>
<p>fix XML escaping in AMF generation, 
File: lib/AMF/Noun.pm</p>

<ul>
<li><p>subroutine stringify(): Add XML escaping of text data;
Follow <a href="http://www.w3.org/TR/REC-xml">XML Spec</a>,
section 2.4 Character Data and Markup.</p></li>
<li><p>subroutine stringify_attributes(): add XML escaping to
attribute values (similar to above, but adds quotation
marks escaping)</p></li>
</ul>
</li>
</ul>

<p>EPrints:</p>

<ul>
<li>
<p>Find out why EPrints::EPrint::commit() function (method)
is called twice for each eprint commited.  Find a fix or
a work-around.</p>

<ul>
<li>use logging — the commented logit() function of the
ACIS::EPrints::MetadataExport::AMF module for control
and checking the call-stack</li>
</ul>
</li>
</ul>


   <h2 id="id2608268">Level 3 - Author/person identification aid</h2>

<p>General, ACIS::PIDAID:</p>

<ul>
<li>
<p>find_by_name(): </p>

<ul>
<li>
<p>change SQL query in it to a fitting JOIN-query, that
would search acis.names table and get record data
from acis.records</p>

<ul>
<li>note: duplicate records shall be excluded</li>
</ul>
</li>
</ul>
</li>
<li>
<p>make find_by_email() </p>

<ul>
<li>
<p>calculate MD5 checksum from the EMAIL parameter
given:</p>

<pre><code>    require Digest::MD5;
    my $emailmd5 = Digest::MD5::md5( lc $email );
</code></pre>
</li>
<li><p>search acis.records table by the MD5 checksum; as in
find_by_name()</p></li>
</ul>
</li>
<li><p>make find_by_shortid()</p></li>
</ul>

<p>EPrints:</p>

<ul>
<li><p>install EPrints on nebka</p></li>
<li><p>install ACIS’ extensions to EPrints</p></li>
<li>
<p>cgi/pidaid </p>

<ul>
<li><p>create ACIS::PIDAID object just once and save it a
global variable — take advantage of mod_perl
environment</p></li>
<li><p>implement search by shortid and search by email
(use search by name as example)</p></li>
</ul>
</li>
<li>
<p>pidaid.js:</p>

<ul>
<li>
<p>fix page jumping when user selects a menu item —
give focus to an input box before hiding the menu?</p>

<ul>
<li>or hide the menu gradually?</li>
</ul>
</li>
<li><p>put all text messages like “Is it someone we know?”
into global variables somewhere at the file start.
It shall be easy to change for anyone.</p></li>
<li>
<p>id input field:    </p>

<ul>
<li><p>add functions to set id field status: null / valid
/ invalid; set class and title attributes of the
id input element respectively</p></li>
<li><p>reset id status to valid when user chooses an item
from a menu</p></li>
<li><p>clear the status when user is editing id field</p></li>
<li><p>set the status when search results arrive</p></li>
</ul>
</li>
<li><p>make search results processing function
process_search_results() aware of what search it was
running for (by name, by email or by short-id)</p></li>
<li>
<p>add checking to the id field </p>

<ul>
<li><p>use regular expressions to see if the value looks
like an id or an email</p></li>
<li><p>search accordingly</p></li>
</ul>
</li>
<li><p>make table presentation of records menu as shown in
illustrations of <a href="eprints.html">eprints.html</a> and in
prototype
<code class="f BROKEN">ACIS-distribution/EPrints/prototype-menutable.html</code>
</p></li>
<li>
<p>test and find a fix for Unicode issue in names in
search results (find “XXX UNICODE” mark in source)</p>

<ul>
<li>test in different browsers</li>
</ul>
</li>
<li>
<p>initial handlers installation optimization:</p>

<ul>
<li><p>check that there are any personal name input
controls on the page before doing anything else.</p></li>
<li><p>check XMLHttpRequest presence before
assigning event handlers.</p></li>
</ul>
</li>
<li><p>check, fix and clear all XXX marks in pidaid.js</p></li>
</ul>
</li>
</ul>


   <h2 id="id2608558">Level 4:</h2>

<p>ACIS:</p>

<ul>
<li>
<p>server part</p>

<ul>
<li>
<p>add configuration parameters to the
ACIS::Web::Config module:</p>

<ul>
<li><p>meta-update-clients</p></li>
<li><p>meta-update-object-fetch-func</p></li>
</ul>
</li>
<li><p>define screen in the <a class="f" href="internal.html#homescreensxml">home/screens.xml</a> file</p></li>
<li><p>write screen processors in ACIS::Web::MetaUpdate</p></li>
</ul>
</li>
<li><p>client part: update request module ACIS::MetaUpdate::Request</p></li>
</ul>

<p>EPrints:</p>

<ul>
<li>add the ACIS::MetaUpdate::Request module to EPrints,
tie it to appropriate hooks in MetadataExport::AMF</li>
</ul>

<p>RAS:</p>

<ul>
<li>
<p>write mirroring function for RePEc?</p>

<ul>
<li><p>build a map: archive id -&gt; accesspoint URL</p></li>
<li><p>configuration: path to local RePEc/remo dir</p></li>
</ul>
</li>
</ul>

<p></p>

  
<address class="footer">
<p>
$Id: stage3-todo.html,v 2.0 2005/12/27 19:47:37 ivan Exp $
</p>
<p>Generated: Sun Nov 27 15:26:53 2005</p>
<p>
<a href="http://acis.openlib.org/">ACIS project</a>,
          acis<i>@</i>openlib<span>.org</span>
</p>
</address>
</body>
</html>
